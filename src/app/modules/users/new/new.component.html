<div class="row">
  <div class="col-md-12">
  <div class="card">
      <div class="card-header">
          <h1>Add new user</h1>
      </div>
      <div class="card-body">
        <form class="form-search clearfix" *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit(form.value)">
        
        <div class="form-group" [class.error-style]="showError && form.controls['email'].errors">
            <label>Email</label>
            <input type="text" class="form-control" formControlName="email" >
            <p *ngIf="showError && form.controls['email'].hasError('required')" class="error">
                Email is required.
            </p>
        </div>

        <div class="form-group" [class.error-style]="showError && form.controls['password'].errors">
            <label>Password</label>
            <input type="text" class="form-control" formControlName="password" >
            <p *ngIf="showError && form.controls['password'].hasError('required')" class="error">
                Password is required.
            </p>
        </div>

        <div class="form-group" [class.error-style]="showError && form.controls['name'].errors">
          <label>Name</label>
          <input type="text" class="form-control" formControlName="name" >
          <p *ngIf="showError && form.controls['name'].hasError('required')" class="error">
              Name is required.
          </p>
        </div>

        <div class="form-group" [class.error-style]="showError && form.controls['firstname'].errors">
            <label>Firstname</label>
            <input type="text" class="form-control" formControlName="firstname" >
            <p *ngIf="showError && form.controls['firstname'].hasError('required')" class="error">
                Firstname is required.
            </p>
        </div>

        <div class="form-group" [class.error-style]="showError && form.controls['lastname'].errors">
            <label>Lastname</label>
            <input type="text" class="form-control" formControlName="lastname" >
            <p *ngIf="showError && form.controls['lastname'].hasError('required')" class="error">
                Lastname is required.
            </p>
        </div>

        <div class="form-group" [class.error-style]="showError && form.controls['bio'].errors">
            <label>Bio</label>
            <textarea class="form-control" formControlName="bio" cols="40" rows="5"></textarea>
            <p *ngIf="showError && form.controls['bio'].hasError('required')" class="error">
                Bio is required.
            </p>
        </div>



        <div class="pull-left">
              <p *ngIf="loading">
                  Loading...
              </p>
              <p *ngIf="lastCreatedPost" class="success">
                  Post has been created : {{ lastCreatedPost.id }} - {{ lastCreatedPost.name }}
              </p>
              <p *ngIf="error" class="error">
                  An error occured ({{ error }}).
              </p>
        </div>
        <div class="pull-right margin-bottom-10">
          <button type="button" class="btn btn-cancel" (click)="cancel()">Cancel</button>
          <button type="submit" class="btn btn-primary">Create</button>
        </div>
        </form>
      </div>
</div>
</div>
</div>